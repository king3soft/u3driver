<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>U3Driver</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.d39084ab.css" as="style"><link rel="preload" href="/assets/js/app.383ba877.js" as="script"><link rel="preload" href="/assets/js/2.bceaecb2.js" as="script"><link rel="preload" href="/assets/js/3.d7a6f5b3.js" as="script"><link rel="prefetch" href="/assets/js/4.db6e22f2.js"><link rel="prefetch" href="/assets/js/5.dd62539a.js"><link rel="prefetch" href="/assets/js/6.3b5871bf.js"><link rel="prefetch" href="/assets/js/7.691b632f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d39084ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" aria-current="page" class="home-link router-link-exact-active router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="u3driver"><a href="#u3driver" class="header-anchor">#</a> U3Driver</h1> <h2 id="安装方法"><a href="#安装方法" class="header-anchor">#</a> 安装方法</h2> <h3 id="unity-插件接入"><a href="#unity-插件接入" class="header-anchor">#</a> Unity 插件接入</h3> <ol><li>将 <code>UAutoSDK.dll</code> 和 <code>UAutoSdkInit.cs</code> 添加到 <code>/Assets/Plugins</code> 目录下</li> <li>在场景中新建物体并将 <code>UAutoSdkInit.cs</code> 添加到物体中、或者直接将脚本添加到已有游戏物体上。</li> <li>运行游戏后如果出现如下 log 说明配置成功</li></ol> <p><img src="/assets/img/20200728152128499_28920.43d9d000.png" alt=""></p> <h3 id="python-环境配置"><a href="#python-环境配置" class="header-anchor">#</a> python 环境配置</h3> <p><a href="http://gitlab.testplus.cn/leijiafeng/UAuto_python" target="_blank" rel="noopener noreferrer">项目地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>clone 使用命令行进入到 <code>UAuto_python</code> 目录，运行下面的指令安装所需模块</p> <blockquote><p>pip install -r requirements.txt</p></blockquote> <p>等待安装完成后开始运行：</p> <ol><li>在本机 Unity 中运行游戏，开启网络监听</li> <li>运行 <code>temp_test.py</code> 脚本，命令如下：</li></ol> <blockquote><p>python temp_test.py -i 127.0.0.1</p></blockquote> <p>如果 python 脚本输出如下表示 python 环境配置完成</p> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="python-api"><a href="#python-api" class="header-anchor">#</a> Python API</h2> <p>为了解释后面的功能，这里对游戏物体的<code>路径</code>进行说明，假如有下面游戏场景</p> <p><img src="data:image/png;base64,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" alt=""></p> <p><code>Button</code> 的路径为 <code>/Canvas/Button</code></p> <h3 id="通用功能"><a href="#通用功能" class="header-anchor">#</a> 通用功能</h3> <h5 id="altrununitydriver"><a href="#altrununitydriver" class="header-anchor">#</a> AltrunUnityDriver</h5> <p>初始化 UDriver</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> u3driver <span class="token keyword">import</span> AltrunUnityDriver

udriver <span class="token operator">=</span> AltrunUnityDriver<span class="token punctuation">(</span>device_s<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> ip<span class="token punctuation">,</span> TCP_PORT<span class="token operator">=</span><span class="token number">13000</span><span class="token punctuation">,</span> <span class="token punctuation">,</span>timeout<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>device_s：安卓设备号</li> <li>platform：平台，直接传空字符串</li> <li>ip：启动游戏机器的 ip 地址</li> <li>TCP_PORT：端口号</li> <li>timeout：超时重试时间</li></ul> <h5 id="stop"><a href="#stop" class="header-anchor">#</a> stop</h5> <p>与 Unity 部分断开连接</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="debug-mode"><a href="#debug-mode" class="header-anchor">#</a> debug_mode</h5> <p>使用 debugMode 可以直接录制和翻译简单的 UI 事件
目前已支持下面几种录制：</p> <ul><li>点击</li> <li>拖动</li> <li>文本输入</li></ul> <p>开始录制后，在游戏中执行 UI 操作会试试转化成 python 指令。当操作完成后按住屏幕 5 秒结束录制。</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>debug_mode<span class="token punctuation">(</span><span class="token string">&quot;output_script.py&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="get-screen"><a href="#get-screen" class="header-anchor">#</a> get_screen</h5> <p>获取游戏内屏幕宽高（不一定等于屏幕宽高）</p> <div class="language-python extra-class"><pre class="language-python"><code>width<span class="token punctuation">,</span> height <span class="token operator">=</span> udriver<span class="token punctuation">.</span>get_screen<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>file_path：输出的脚本名</li></ul> <h5 id="get-png-screenshot"><a href="#get-png-screenshot" class="header-anchor">#</a> get_png_screenshot</h5> <p>对游戏进行截图</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>get_png_screenshot<span class="token punctuation">(</span><span class="token string">&quot;pic.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>path：保存图片名</li></ul> <h4 id="获取游戏物体"><a href="#获取游戏物体" class="header-anchor">#</a> 获取游戏物体</h4> <h5 id="find-object"><a href="#find-object" class="header-anchor">#</a> find_object</h5> <p>寻找场景内路径为 value 的游戏对象并返回 Handler，且只会找到活动（active）的游戏对象。如果没有找到对应游戏对象，将会抛出异常。</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//Button&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>by：通过什么方式进行寻找，如 By.PATH 表示按照路径进行寻找</li> <li>value：需要寻找的游戏对象的路径</li></ul> <p>如果游戏物体路径存在 <code>/</code> 符号，例如按钮的名称为 <code>Button/1</code>，可以使用 <code>By.LEVEL</code> 进行获取：</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>LEVEL<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//Button/1&quot;</span>
</code></pre></div><h5 id="find"><a href="#find" class="header-anchor">#</a> find</h5> <p>在 <code>find_object</code> 返回的已找到的游戏对象 Handler 为基础，进行级联查找，且只会找到活动（active）的游戏对象，同样返回找到的游戏对象 Handler。</p> <div class="language-python extra-class"><pre class="language-python"><code>obj <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//A&quot;</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;B//C&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 相当于</span>
udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;Canvas//A//B//C&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：需要查找的子级对象目录，无需 <code>//</code> 开头。</li></ul> <h5 id="child-index"><a href="#child-index" class="header-anchor">#</a> child_index</h5> <p>在 <code>find_object</code> 返回的已找到的游戏对象 Handler 为基础，获取给定下标的子对象，且只会找到活动（active）的游戏对象，同样返回找到的游戏对象 Handler。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 当子对象名字重复，使用该函数查找</span>
obj <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//Parent&quot;</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>child_index<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：子级对象的下标，从 0 开始。</li></ul> <h5 id="parent"><a href="#parent" class="header-anchor">#</a> parent</h5> <p>在 <code>find_object</code> 返回的已找到的游戏对象 Handler 为基础，获取父对象，且只会找到活动（active）的游戏对象，同样返回找到的游戏对象 Handler。</p> <div class="language-python extra-class"><pre class="language-python"><code>obj <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//A//B&quot;</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>parent<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 相当于</span>
udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//A&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="find-object-which-contains"><a href="#find-object-which-contains" class="header-anchor">#</a> find_object_which_contains</h5> <p>寻找所有名字包含 value 且活动（active）的游戏对象，返回的列表中包含所有找到的游戏对象。</p> <div class="language-python extra-class"><pre class="language-python"><code>ret <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object_which_contains<span class="token punctuation">(</span><span class="token string">&quot;gameObjectName&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：需要寻找的游戏对象的名字或名字一部分</li></ul> <h5 id="find-object-in-range-where-name-contains"><a href="#find-object-in-range-where-name-contains" class="header-anchor">#</a> find_object_in_range_where_name_contains</h5> <p>在指定的路径下寻找名字包含 <code>value</code> 且活动（active）的直接子游戏对象，返回的列表中包含所有找到的游戏对象。</p> <div class="language-python extra-class"><pre class="language-python"><code>ret <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object_in_range_where_name_contains<span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//parentName&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：需要寻找的游戏对象的名字或名字一部分</li> <li>range_path：需要寻找的游戏对象的直接父级的路径</li></ul> <h5 id="object-exise"><a href="#object-exise" class="header-anchor">#</a> object_exise</h5> <p>判断物体是否存在且活动（active）。</p> <div class="language-python extra-class"><pre class="language-python"><code>exist <span class="token operator">=</span> udriver<span class="token punctuation">.</span>object_exise<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//name&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>by：通过什么方式寻找游戏对象，目前只支持 <code>by.PATH</code> 通过路径进行寻找</li> <li>value：需要判断的物体的路径</li></ul> <h5 id="find-object-in-range-where-text-contains"><a href="#find-object-in-range-where-text-contains" class="header-anchor">#</a> find_object_in_range_where_text_contains</h5> <p>在父游戏物体的直接子级物体下的指定路径寻找文本内容包含 <code>value</code> 且活动（active）的游戏物体，返回的列表中包含所有找到的游戏物体。</p> <div class="language-python extra-class"><pre class="language-python"><code>ret <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object_in_range_where_text_contains<span class="token punctuation">(</span><span class="token string">&quot;childPath&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;parentPath&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 可以找到如下的游戏物体：</span>
<span class="token comment"># /parentPath/1/childPath</span>
<span class="token comment"># /parentPath/2/childPath</span>
<span class="token comment"># /parentPath/3/childPath</span>
</code></pre></div><p>参数列表：</p> <ul><li>childPath：子游戏对象的路径（与父游戏对象不是直接父子级关系，中间隔了一层）</li> <li>value：需要包含的文本字符串</li> <li>parentPath：父游戏对象的路径</li></ul> <h5 id="find-child"><a href="#find-child" class="header-anchor">#</a> find_child</h5> <p>获取一个父游戏物体的所有直接子游戏物体的名字。</p> <div class="language-python extra-class"><pre class="language-python"><code>childs <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_child<span class="token punctuation">(</span><span class="token string">&quot;//Canvas//parentName&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：父游戏物体的层级目录</li></ul> <h5 id="get-object-rect"><a href="#get-object-rect" class="header-anchor">#</a> get_object_rect</h5> <p>获取一个 UI 矩形的中心点和四个顶点的屏幕坐标。</p> <div class="language-python extra-class"><pre class="language-python"><code>ret <span class="token operator">=</span> udriver<span class="token punctuation">.</span>get_object_rect<span class="token punctuation">(</span><span class="token string">&quot;//Canvas//name&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">'Center'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">'BottomLeft'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">'TopLeft'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">'TopRight'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">'BottomRight'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：游戏物体的路径</li></ul> <h5 id="find-all-objects"><a href="#find-all-objects" class="header-anchor">#</a> find_all_objects</h5> <p>获取一个物体下的所有子孙级物体，返回的列表中包含所有找到的游戏对象。</p> <div class="language-python extra-class"><pre class="language-python"><code>objects <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_all_objects<span class="token punctuation">(</span><span class="token string">&quot;//Canvas&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：游戏物体的路径</li></ul> <h5 id="find-all-objects-where-text-contains"><a href="#find-all-objects-where-text-contains" class="header-anchor">#</a> find_all_objects_where_text_contains</h5> <p>获取所有 text 包含对应文本的游戏物体，该游戏物体必须拥有 <code>Text</code> 或 <code>InputField</code> 组件，返回的列表中包含所有找到的游戏对象。</p> <div class="language-python extra-class"><pre class="language-python"><code>objects <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_all_objects_where_text_contains<span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="ui-操作"><a href="#ui-操作" class="header-anchor">#</a> UI 操作</h4> <h5 id="tap"><a href="#tap" class="header-anchor">#</a> tap</h5> <p>对游戏对象发起点击事件</p> <div class="language-python extra-class"><pre class="language-python"><code>button <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//Button&quot;</span><span class="token punctuation">)</span>
button<span class="token punctuation">.</span>tap<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="get-text"><a href="#get-text" class="header-anchor">#</a> get_text</h5> <p>获取游戏对象的 <code>text</code> 属性，该游戏对象必须拥有 <code>Text</code> 或 <code>InputField</code> 组件。</p> <div class="language-python extra-class"><pre class="language-python"><code>text <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//Text&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">str</span> <span class="token operator">=</span> text<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="set-text"><a href="#set-text" class="header-anchor">#</a> set_text</h5> <p>给游戏对象的 <code>text</code> 属性设置值，该游戏对象必须拥有 <code>InputField</code> 组件。</p> <div class="language-python extra-class"><pre class="language-python"><code>text <span class="token operator">=</span> udriver<span class="token punctuation">.</span>find_object<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//Text&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">str</span> <span class="token operator">=</span> text<span class="token punctuation">.</span>set_text<span class="token punctuation">(</span><span class="token string">'this is text'</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>value：设置文本的字符串</li></ul> <h5 id="find-object-and-tap"><a href="#find-object-and-tap" class="header-anchor">#</a> find_object_and_tap</h5> <p>寻找游戏物体，如果找到且是活动（active）的，对游戏对象发起一次点击事件。</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>find_object_and_tap<span class="token punctuation">(</span>By<span class="token punctuation">.</span>PATH<span class="token punctuation">,</span> <span class="token string">&quot;//Canvas//Button&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>by：通过什么方式寻找游戏对象，目前只支持通过路径进行寻找</li> <li>value：需要寻找的游戏对象</li></ul> <h5 id="tap-at-coordinates"><a href="#tap-at-coordinates" class="header-anchor">#</a> tap_at_coordinates</h5> <p>对屏幕上指定一点的 UI 触发点击事件。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 屏幕坐标(480, 720)</span>
udriver<span class="token punctuation">.</span>tap_at_coordiates<span class="token punctuation">(</span><span class="token string">&quot;480&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;720&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="get-value-on-component"><a href="#get-value-on-component" class="header-anchor">#</a> get_value_on_component</h5> <p>获取一个游戏物体中指定的组件上的指定值。</p> <div class="language-python extra-class"><pre class="language-python"><code>ret <span class="token operator">=</span> udriver<span class="token punctuation">.</span>get_value_on_component<span class="token punctuation">(</span><span class="token string">&quot;//Canvas//Image&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Image&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>path：游戏物体的路径</li> <li>component_name：组件名</li> <li>value_name：属性名</li></ul> <h5 id="drag-object"><a href="#drag-object" class="header-anchor">#</a> drag_object</h5> <p>对 UI 控件触发拖动事件</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 从 UI 控件中心点开始拖动到 (400, 200)</span>
udriver<span class="token punctuation">.</span>drag_object<span class="token punctuation">(</span><span class="token string">&quot;//Canvas//Slider&quot;</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

<span class="token comment"># 从 (400, 100) 拖动 UI 到 (400, 200)</span>
udriver<span class="token punctuation">.</span>drag_object<span class="token punctuation">(</span><span class="token string">&quot;//Canvas//Slider&quot;</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="项目接口"><a href="#项目接口" class="header-anchor">#</a> 项目接口</h3> <h5 id="ubox"><a href="#ubox" class="header-anchor">#</a> ubox</h5> <p>开启、关闭 ubox 数据采集</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>ubox<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="move-to"><a href="#move-to" class="header-anchor">#</a> move_to</h5> <p>移动到指定坐标点</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>x：x 坐标</li> <li>y：y 坐标</li> <li>z：z 坐标</li></ul> <h5 id="is-auto-path"><a href="#is-auto-path" class="header-anchor">#</a> is_auto_path</h5> <p>判断当前是否正在自动寻路</p> <div class="language-python extra-class"><pre class="language-python"><code>ret <span class="token operator">=</span> udriver<span class="token punctuation">.</span>is_auto_path<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="get-plr-pos"><a href="#get-plr-pos" class="header-anchor">#</a> get_plr_pos</h5> <p>获取角色当前场景 ID 以及坐标点</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>get_plr_pos<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="goto-scene"><a href="#goto-scene" class="header-anchor">#</a> goto_scene</h5> <p>去到指定场景</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>goto_scene<span class="token punctuation">(</span><span class="token string">&quot;1001&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>id:模板ID，详情可以参考 <code>scenelist.txt</code></li></ul> <h5 id="auto-fight"><a href="#auto-fight" class="header-anchor">#</a> auto_fight</h5> <p>开启自动战斗</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>auto_fight<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="goto-fuben"><a href="#goto-fuben" class="header-anchor">#</a> goto_fuben</h5> <p>去到指定副本</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>goto_fuben<span class="token punctuation">(</span><span class="token string">&quot;1022&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>id:模板ID，详情可以参考 <code>scenelist.txt</code></li></ul> <h5 id="add-exp"><a href="#add-exp" class="header-anchor">#</a> add_exp</h5> <p>为角色增加经验值</p> <div class="language-python extra-class"><pre class="language-python"><code>udriver<span class="token punctuation">.</span>add_exp<span class="token punctuation">(</span><span class="token number">100000000</span><span class="token punctuation">)</span>
</code></pre></div><p>参数列表：</p> <ul><li>exp:需要增加的经验值</li></ul> <h2 id="已完成的案例"><a href="#已完成的案例" class="header-anchor">#</a> 已完成的案例</h2> <p>跑图，场景切换，门派选择，捏脸系统，UI遍历，小队野外挂机</p> <h3 id="运行参数"><a href="#运行参数" class="header-anchor">#</a> 运行参数</h3> <p>-s：测试使用的安卓设备号</p> <p>-i: 测试使用的安卓ip地址</p> <p>-b：性能采集类型，0：使用 Ubox 采集，1：使用 TestPlus 采集，其他数字：不采集</p> <p>-t：是否跳过安装新包：0：安装新包，1：跳过安装（建议提前在机器上安装好新包，自动装包需要机器配置好相关环境，这一步比较麻烦）</p> <p>-a：新包的下载地址</p> <p>-user：使用的账号</p> <p>-server：使用的服务器</p> <p>-package：使用的包名</p> <h3 id="跑图"><a href="#跑图" class="header-anchor">#</a> 跑图</h3> <p>游戏准备：准备一个已经过好新手教程的账号</p> <p>运行方法：</p> <blockquote><p>python map_test.py -s &quot;安卓设备号&quot; -t 1 -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;
或
python map_test.py -s &quot;安卓设备号&quot; -t 1 -i &quot;ip地址&quot; -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;</p></blockquote> <h3 id="场景切换"><a href="#场景切换" class="header-anchor">#</a> 场景切换</h3> <p>游戏准备：准备一个已经过好新手教程的账号</p> <p>运行方法：</p> <blockquote><p>python switch_scene_test.py -s &quot;安卓设备号&quot; -t 1 -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;
或
python switch_scene_test.py -s &quot;安卓设备号&quot; -t 1 -i &quot;ip地址&quot; -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;</p></blockquote> <h3 id="门派选择"><a href="#门派选择" class="header-anchor">#</a> 门派选择</h3> <p>运行方法：</p> <blockquote><p>python create_role_test.py -s &quot;安卓设备号&quot; -t 1 -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -package &quot;com.sea.jxsj3.xsj&quot;
或
python create_role_test.py -s &quot;安卓设备号&quot; -t 1 -i &quot;ip地址&quot; -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;</p></blockquote> <h3 id="捏脸系统"><a href="#捏脸系统" class="header-anchor">#</a> 捏脸系统</h3> <p>运行方法：</p> <blockquote><p>python role_face_test.py -s &quot;安卓设备号&quot; -t 1 -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -package &quot;com.sea.jxsj3.xsj&quot;
或
python role_face_test.py -s &quot;安卓设备号&quot; -t 1 -i &quot;ip地址&quot; -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;</p></blockquote> <h3 id="ui遍历"><a href="#ui遍历" class="header-anchor">#</a> UI遍历</h3> <p>游戏准备：准备一个已经升满级的账号</p> <p>运行方法：</p> <blockquote><p>python ui_traverse_test.py -s &quot;安卓设备号&quot; -t 1 -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;
或
python ui_traverse_test.py -s &quot;安卓设备号&quot; -t 1 -i &quot;ip地址&quot; -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;</p></blockquote> <h3 id="小队野外挂机"><a href="#小队野外挂机" class="header-anchor">#</a> 小队野外挂机</h3> <p>游戏准备：准备4个已经升满级的账号，起始位置在20级异化蝎子</p> <p>运行方法：</p> <blockquote><p>python fight_test.py -s &quot;安卓设备号&quot; -t 1 -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;
或
python fight_test.py -s &quot;安卓设备号&quot; -t 1 -i &quot;ip地址&quot; -a &quot;http://10.11.88.13:8088/jxsj.apk&quot; -b 2 -user &quot;cs&quot; -server 50 -package &quot;com.sea.jxsj3.xsj&quot;</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.383ba877.js" defer></script><script src="/assets/js/2.bceaecb2.js" defer></script><script src="/assets/js/3.d7a6f5b3.js" defer></script>
  </body>
</html>
